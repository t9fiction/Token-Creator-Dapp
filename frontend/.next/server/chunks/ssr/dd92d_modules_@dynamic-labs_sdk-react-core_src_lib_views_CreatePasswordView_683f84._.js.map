{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/sohail/mystuff/10-Work/projects/erc20saas/frontend/node_modules/%40dynamic-labs/sdk-react-core/src/lib/views/CreatePasswordView/CreatePasswordStep/CreatePasswordStep.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { isCoinbaseMpcWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../events/dynamicEvents.js';\nimport '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '../../../context/ViewContext/ViewContext.js';\nimport { ReactComponent as SvgCheck } from '../../../shared/assets/check.js';\nimport { ReactComponent as SvgClose } from '../../../shared/assets/close.js';\nimport { ReactComponent as SvgCopy } from '../../../shared/assets/copy.js';\nimport { ReactComponent as SvgPasswordHero } from '../../../shared/assets/password-hero.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../utils/constants/colors.js';\nimport '../../../utils/constants/values.js';\nimport { validatePassword } from '../../../shared/utils/functions/validatePassword/validatePassword.js';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../shared/consts/index.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../../../utils/hooks/useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../../../utils/hooks/useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport '@dynamic-labs/types';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/environmentId.js';\nimport '../../../store/state/walletConnectorOptions.js';\nimport { Typography } from '../../../components/Typography/Typography.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/OverlayCard/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport 'react-focus-lock';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport { IconButton } from '../../../components/IconButton/IconButton.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport { ErrorContainer } from '../../../components/ErrorContainer/ErrorContainer.js';\nimport { TypographyButton } from '../../../components/TypographyButton/TypographyButton.js';\nimport 'formik';\nimport { ModalHeader } from '../../../components/ModalHeader/ModalHeader.js';\nimport '../../../store/state/sendBalances.js';\nimport { Input } from '../../../components/Input/Input.js';\nimport '../../TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { CopyButton } from '../../../components/CopyButton/CopyButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport { TextButton } from '../../../components/TextButton/TextButton.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'qrcode';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport { ToggleVisibilityButton } from '../../../components/ToggleVisibilityButton/ToggleVisibilityButton.js';\n\nconst CreatePasswordStep = ({ password, setPassword, currentPassword, setCurrentPassword, onContinue, isChangingPassword, onClose, onLogout, }) => {\n    const { primaryWallet } = useInternalDynamicContext();\n    const [currentPasswordInputType, setCurrentPasswordInputType] = useState('password');\n    const [passwordInputType, setPasswordInputType] = useState('password');\n    const intialPasswordStrength = validatePassword(password).strength;\n    const [passwordStrength, setPasswordStrength] = useState(intialPasswordStrength);\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [confirmPasswordInputType, setConfirmPasswordInputType] = useState('password');\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n    const { t } = useTranslation();\n    const canContinue = Boolean((password === null || password === void 0 ? void 0 : password.length) >= 6 &&\n        passwordStrength >= 5 &&\n        confirmPassword === password &&\n        (!isChangingPassword ||\n            (currentPassword && currentPassword !== password)));\n    const closeButton = onClose && (jsx(IconButton, { onClick: () => onClose(), type: 'button', children: jsx(SvgClose, {}) }));\n    const inputSuffix = (inputType, setInputType, includeCopy = true) => (jsxs(\"div\", { className: 'create-password__password-input__suffix', children: [includeCopy && (jsx(\"div\", { children: jsx(CopyButton, { textToCopy: password, copykey: 'dyn_qr_code.copy_button', className: 'create-password__password-input__suffix__icon', children: jsx(SvgCopy, { className: 'create-password__password-input__suffix__icon', onClick: (e) => {\n                            e.preventDefault();\n                        } }) }) })), jsx(ToggleVisibilityButton, { initialState: inputType === 'password', onClick: (hidden) => setInputType(hidden ? 'password' : 'text'), className: 'create-password__password-input__suffix__icon' })] }));\n    const handleChangePassword = (e) => __awaiter(void 0, void 0, void 0, function* () {\n        e.preventDefault();\n        const connector = primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector;\n        if (isChangingPassword && isCoinbaseMpcWalletConnector(connector)) {\n            setIsLoading(true);\n            try {\n                const isValid = yield connector.validatePasscode(currentPassword);\n                if (!isValid) {\n                    setError(t('dyn_create_password.errors.invalid_current_password'));\n                    return;\n                }\n            }\n            catch (error) {\n                setError(t('dyn_create_password.errors.error_changing_password'));\n                return;\n            }\n            finally {\n                setIsLoading(false);\n            }\n        }\n        if (canContinue) {\n            onContinue();\n        }\n    });\n    const onCreatePasswordInputChange = (e) => {\n        const newPassword = e.target.value;\n        const { strength } = validatePassword(newPassword);\n        setPasswordStrength(strength);\n        setPassword(newPassword);\n        if (isChangingPassword) {\n            if (currentPassword === newPassword) {\n                setError(t('dyn_create_password.errors.new_password_same_as_old'));\n            }\n            else if (newPassword &&\n                confirmPassword &&\n                newPassword !== confirmPassword) {\n                setError(t('dyn_create_password.errors.password_mismatch'));\n            }\n            else {\n                setError('');\n            }\n            return;\n        }\n        if (!(newPassword === null || newPassword === void 0 ? void 0 : newPassword.length)) {\n            setError('');\n        }\n    };\n    const onConfirmPasswordInputChange = (e) => {\n        const newPassword = e.target.value;\n        if (newPassword !== password) {\n            setError(t('dyn_create_password.errors.password_mismatch'));\n        }\n        else {\n            setError('');\n        }\n        setConfirmPassword(newPassword);\n    };\n    return (jsxs(Fragment, { children: [jsx(ModalHeader, { trailing: closeButton, children: jsx(Typography, { as: 'h1', variant: 'title', color: 'primary', \"data-testid\": 'dynamic-auth-modal-heading', className: 'header__typography', copykey: 'dyn_create_password.title', children: isChangingPassword\n                        ? t('dyn_create_password.title.update')\n                        : t('dyn_create_password.title.create') }) }), jsx(\"div\", { className: 'create-password', children: jsxs(\"form\", { className: 'create-password__body', \"data-testid\": 'create-password-form', onSubmit: handleChangePassword, children: [jsxs(\"div\", { className: 'create-password__body__header', children: [jsx(SvgPasswordHero, {}), jsx(Typography, { variant: 'body_normal', weight: 'regular', color: 'secondary', children: t('dyn_create_password.description') })] }), error && jsx(ErrorContainer, { children: error }), isChangingPassword && (jsx(Input, { id: 'current-password', placeholder: t('dyn_create_password.current_password_input.placeholder'), type: currentPasswordInputType, suffix: inputSuffix(currentPasswordInputType, setCurrentPasswordInputType, false), label: t('dyn_create_password.current_password_input.label'), value: currentPassword, onChange: (e) => setCurrentPassword(e.target.value), autoFocus: true, copykey: 'dyn_create_password.current_password_input' })), jsx(\"div\", { children: jsx(Input, { id: 'password', placeholder: isChangingPassword\n                                    ? t('dyn_create_password.update_input.placeholder')\n                                    : t('dyn_create_password.create_input.placeholder'), type: passwordInputType, suffix: inputSuffix(passwordInputType, setPasswordInputType), label: isChangingPassword\n                                    ? t('dyn_create_password.update_input.label')\n                                    : t('dyn_create_password.create_input.label'), value: password, onChange: onCreatePasswordInputChange, autoFocus: Boolean(!isChangingPassword), copykey: 'dyn_create_password.create_input' }) }), password.length >= 1 && (jsxs(Fragment, { children: [jsx(\"div\", { className: 'create-password__body__card', children: validatePassword(password).securityCriteria.map((criteria) => (jsxs(\"div\", { className: `create-password__password-criteria-list ${criteria.value\n                                            ? 'create-password__password-criteria-list__success'\n                                            : 'create-password__password-criteria-list__error'}`, children: [jsx(\"div\", { children: criteria.value ? (jsx(SvgCheck, { className: 'create-password__password-criteria-icon' })) : (jsx(SvgClose, { className: 'create-password__password-criteria-icon' })) }), jsx(Typography, { variant: 'body_mini', children: criteria.description })] }, criteria.key))) }), jsx(Input, { id: 'confirm-password', placeholder: t('dyn_create_password.confirm_input.placeholder'), type: confirmPasswordInputType, suffix: inputSuffix(confirmPasswordInputType, setConfirmPasswordInputType, false), label: t('dyn_create_password.confirm_input.label'), value: confirmPassword, onChange: onConfirmPasswordInputChange, copykey: 'dyn_create_password.confirm_input' })] })), jsx(TypographyButton, { buttonPadding: 'large', buttonVariant: 'brand-primary', typographyProps: {\n                                color: 'inherit',\n                            }, disabled: !canContinue, copykey: 'dyn_create_password.continue', type: 'submit', loading: isLoading, children: t('dyn_create_password.continue') }), onLogout && (jsx(TextButton, { className: 'create-password__log-out', onClick: onLogout, copykey: 'dyn_create_password.logout', children: t('dyn_create_password.logout') }))] }) })] }));\n};\n\nexport { CreatePasswordStep };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///home/sohail/mystuff/10-Work/projects/erc20saas/frontend/node_modules/%40dynamic-labs/sdk-react-core/src/lib/views/CreatePasswordView/SavePasswordStep/SavePasswordStep.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../events/dynamicEvents.js';\nimport '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport '../../../context/ViewContext/ViewContext.js';\nimport { ReactComponent as SvgChevronLeft } from '../../../shared/assets/chevron-left.js';\nimport { ReactComponent as SvgClose } from '../../../shared/assets/close.js';\nimport { ReactComponent as SvgCopy } from '../../../shared/assets/copy.js';\nimport { ReactComponent as SvgDownload } from '../../../shared/assets/download.js';\nimport { ReactComponent as SvgSavePasswordHero } from '../../../shared/assets/save-password-hero.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../utils/constants/colors.js';\nimport '../../../utils/constants/values.js';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../shared/consts/index.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { downloadFile } from '../../../utils/functions/downloadFile/downloadFile.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../../../utils/hooks/useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../../../utils/hooks/useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport '@dynamic-labs/types';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/environmentId.js';\nimport '../../../store/state/walletConnectorOptions.js';\nimport { copyToClipboard } from '../../../widgets/DynamicWidget/helpers/helpers.js';\nimport { Typography } from '../../../components/Typography/Typography.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/OverlayCard/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport 'react-focus-lock';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport { IconButton } from '../../../components/IconButton/IconButton.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport { ErrorContainer } from '../../../components/ErrorContainer/ErrorContainer.js';\nimport { TypographyButton } from '../../../components/TypographyButton/TypographyButton.js';\nimport 'formik';\nimport { ModalHeader } from '../../../components/ModalHeader/ModalHeader.js';\nimport '../../../store/state/sendBalances.js';\nimport { Input } from '../../../components/Input/Input.js';\nimport '../../TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport { Badge } from '../../../components/Badge/Badge.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { Checkbox } from '../../../components/Checkbox/Checkbox.js';\nimport { TextButton } from '../../../components/TextButton/TextButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'qrcode';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport { ToggleVisibilityButton } from '../../../components/ToggleVisibilityButton/ToggleVisibilityButton.js';\n\nconst SavePasswordStep = ({ password, error, isLoading, onSave, onBack, onClose, onLogout, }) => {\n    const { t } = useTranslation();\n    const [inputType, setInputType] = useState('password');\n    const [acknowledgement, setAcknowledgement] = useState(false);\n    const [isCopied, setIsCopied] = useState(false);\n    const backButton = (jsx(IconButton, { type: 'button', onClick: () => onBack(), \"data-testid\": 'back-button', children: jsx(SvgChevronLeft, {}) }));\n    const closeButton = onClose && (jsx(IconButton, { onClick: () => onClose(), type: 'button', children: jsx(SvgClose, {}) }));\n    const inputSuffix = (jsx(ToggleVisibilityButton, { initialState: inputType === 'password', onClick: (hidden) => setInputType(hidden ? 'password' : 'text'), className: 'save-password-suffix-icon' }));\n    const handleSavePassword = (e) => __awaiter(void 0, void 0, void 0, function* () {\n        e.preventDefault();\n        onSave();\n    });\n    return (jsxs(Fragment, { children: [jsx(ModalHeader, { leading: backButton, trailing: closeButton, children: jsx(Typography, { as: 'h1', variant: 'title', color: 'primary', \"data-testid\": 'dynamic-auth-modal-heading', className: 'header__typography', copykey: 'dyn_save_password.title', children: t('dyn_save_password.title') }) }), jsx(\"div\", { className: 'save-password-view', children: jsxs(\"form\", { className: 'save-password-view__body', \"data-testid\": 'save-password-form', onSubmit: handleSavePassword, children: [jsx(\"div\", { className: 'save-password-view__body__icon', children: jsx(SvgSavePasswordHero, {}) }), jsx(\"div\", { className: 'save-password-view__body__icon', children: jsx(Badge, { text: t('dyn_save_password.badge_text'), className: 'save-password-view__body__badge', copykey: 'dyn_save_password.badge_text' }) }), jsxs(\"div\", { className: 'save-password-view__body__description', children: [jsx(Typography, { variant: 'body_normal', weight: 'regular', color: 'secondary', copykey: 'dyn_save_password.description', children: t('dyn_save_password.description') }), jsx(Typography, { variant: 'body_normal', weight: 'bold', color: 'secondary', copykey: 'dyn_save_password.description', children: t('dyn_save_password.warning') })] }), error && jsx(ErrorContainer, { children: error }), jsx(\"div\", { children: jsx(Input, { id: 'password', placeholder: t('dyn_save_password.password_input.placeholder'), type: inputType, suffix: inputSuffix, disabled: true, label: t('dyn_save_password.password_input.label'), value: password, autoFocus: true, copykey: 'dyn_save_password.password_input' }) }), jsxs(\"div\", { className: 'save-password-view__actions', children: [jsx(TypographyButton, { dataTestId: 'save-password-copy', buttonPadding: 'small', buttonVariant: 'primary', onClick: (e) => {\n                                        e.preventDefault();\n                                        copyToClipboard(password);\n                                        setIsCopied(true);\n                                    }, startSlot: jsx(SvgCopy, {}), expanded: true, copykey: 'dyn_save_password.copy_button', children: isCopied\n                                        ? t('dyn_save_password.copy_button.copied')\n                                        : t('dyn_save_password.copy_button.copy') }), jsx(TypographyButton, { dataTestId: 'save-password-download', buttonPadding: 'small', buttonVariant: 'primary', onClick: (e) => {\n                                        e.preventDefault();\n                                        downloadFile('wallet-recovery.txt', password);\n                                    }, startSlot: jsx(SvgDownload, {}), expanded: true, copykey: 'dyn_save_password.download_button', children: t('dyn_save_password.download_button') })] }), jsx(\"div\", { className: 'save-password-view__body__confirm-card', children: jsxs(\"button\", { className: 'save-password-view__body__card__acknowledgement', onClick: (e) => {\n                                    e.stopPropagation();\n                                    setAcknowledgement(!acknowledgement);\n                                }, type: 'button', children: [jsx(\"div\", { children: jsx(Checkbox, { checked: acknowledgement, onChange: (e) => {\n                                                e.stopPropagation();\n                                                setAcknowledgement(!acknowledgement);\n                                            }, className: 'save-password-view__body__card__statement__checkbox' }) }), jsx(\"div\", { children: jsx(Typography, { variant: 'body_normal', style: { letterSpacing: '-0.15px' }, color: 'primary', copykey: 'dyn_save_password.checkbox_label', children: t('dyn_save_password.checkbox_label') }) })] }) }), jsx(TypographyButton, { dataTestId: 'save-password-submit', buttonPadding: 'large', buttonVariant: 'brand-primary', typographyProps: {\n                                color: 'inherit',\n                            }, disabled: !acknowledgement, loading: isLoading, type: 'submit', copykey: 'dyn_save_password.continue', children: t('dyn_save_password.continue') }), onLogout && (jsx(TextButton, { className: 'create-password__log-out', onClick: onLogout, copykey: 'dyn_save_password.logout', children: t('dyn_save_password.logout') }))] }) })] }));\n};\n\nexport { SavePasswordStep };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 780, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 786, "column": 0}, "map": {"version":3,"sources":["file:///home/sohail/mystuff/10-Work/projects/erc20saas/frontend/node_modules/%40dynamic-labs/sdk-react-core/src/lib/views/CreatePasswordView/CreatePasswordView.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../_virtual/_tslib.js';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { isCoinbaseMpcWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport '../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../utils/constants/colors.js';\nimport '../../utils/constants/values.js';\nimport '../../store/state/loadingAndLifecycle.js';\nimport '../../shared/consts/index.js';\nimport { dynamicEvents } from '../../events/dynamicEvents.js';\nimport '../../context/CaptchaContext/CaptchaContext.js';\nimport '../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { findCoinbaseMPCWallet } from '../../utils/functions/findCoinbaseMPCWallet/findCoinbaseMPCWallet.js';\nimport { requiresPasswordForEmbeddedWallet } from '../../utils/functions/requiresPasswordForEmbeddedWallet/requiresPasswordForEmbeddedWallet.js';\nimport '../../config/ApiEndpoint.js';\nimport '../../store/state/user/user.js';\nimport '../../locale/locale.js';\nimport '../../store/state/projectSettings/projectSettings.js';\nimport '../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../context/WalletContext/WalletContext.js';\nimport '../../utils/hooks/useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport { useEmbeddedWalletPassword } from '../../utils/hooks/useEmbeddedWalletPassword/useEmbeddedWalletPassword.js';\nimport '../../context/ThemeContext/ThemeContext.js';\nimport '../../utils/hooks/useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport '@dynamic-labs/types';\nimport '../../context/LoadingContext/LoadingContext.js';\nimport 'yup';\nimport '../../context/MockContext/MockContext.js';\nimport '../CollectUserDataView/useFields.js';\nimport '../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../store/state/environmentId.js';\nimport '../../store/state/walletConnectorOptions.js';\nimport '../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../components/Alert/Alert.js';\nimport '../../components/ShadowDOM/ShadowDOM.js';\nimport '../../components/IconButton/IconButton.js';\nimport '../../components/InlineWidget/InlineWidget.js';\nimport '../../components/Input/Input.js';\nimport '../../components/IsBrowser/IsBrowser.js';\nimport '../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../components/OverlayCard/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../components/Popper/Popper/Popper.js';\nimport '../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../context/FooterAnimationContext/index.js';\nimport '../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport { CreatePasswordStep } from './CreatePasswordStep/CreatePasswordStep.js';\nimport { SavePasswordStep } from './SavePasswordStep/SavePasswordStep.js';\nimport '../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../context/PasskeyContext/PasskeyContext.js';\nimport '../../store/state/sendBalances.js';\nimport '../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../index.js';\nimport '../../store/state/tokenBalances.js';\nimport '../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst CreatePasswordView = ({ onSuccess, onError, closeView, notCalledFromWalletUtils, isSignUp, }) => {\n    var _a;\n    const { setShowAuthFlow, user, projectSettings, primaryWallet, handleLogOut: onLogout, walletConnectorOptions, } = useInternalDynamicContext();\n    const { t } = useTranslation();\n    const { claimWallet } = useEmbeddedWalletPassword();\n    const [curStep, setCurStep] = useState('create-password');\n    const cbVcWalletProperties = (_a = user === null || user === void 0 ? void 0 : user.verifiedCredentials.find((vc) => vc.walletName === 'coinbasempc')) === null || _a === void 0 ? void 0 : _a.walletProperties;\n    const isChangingPassword = Boolean(cbVcWalletProperties === null || cbVcWalletProperties === void 0 ? void 0 : cbVcWalletProperties.claimed);\n    const closeViewOnCreate = closeView !== null && closeView !== void 0 ? closeView : true;\n    const [currentPassword, setCurrentPassword] = useState('');\n    const [password, setPassword] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n    const requiresPassword = requiresPasswordForEmbeddedWallet(projectSettings);\n    const canClose = isChangingPassword || !requiresPassword;\n    const handleCreatePassword = () => __awaiter(void 0, void 0, void 0, function* () {\n        setCurStep('save-password');\n    });\n    const handleSavePassword = () => __awaiter(void 0, void 0, void 0, function* () {\n        var _b, _c, _d;\n        setIsLoading(true);\n        try {\n            if (!isSignUp) {\n                const connector = (_d = (_b = primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector) !== null && _b !== void 0 ? _b : (_c = findCoinbaseMPCWallet(walletConnectorOptions)) === null || _c === void 0 ? void 0 : _c.walletConnector) !== null && _d !== void 0 ? _d : undefined;\n                // notCalledFromWalletUtils = true means the user triggered password flow, not the connector\n                if (notCalledFromWalletUtils &&\n                    isCoinbaseMpcWalletConnector(connector)) {\n                    yield connector.changePasscode(password, currentPassword);\n                }\n                if (!isChangingPassword) {\n                    // if creating password for the first time, set wallet as claimed\n                    yield claimWallet();\n                }\n            }\n            onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(password);\n            if (closeViewOnCreate) {\n                setShowAuthFlow(false, { ignoreIfIsEmbeddedWidget: false });\n            }\n            dynamicEvents.emit('embeddedWalletCreatePasswordCompleted', password);\n        }\n        catch (e) {\n            logger.debug(`Error ${isChangingPassword ? 'updating' : 'creating'} password`, e);\n            dynamicEvents.emit('embeddedWalletCreatePasswordFailed', e);\n            if (e instanceof Error) {\n                setError(e.message);\n            }\n            onError === null || onError === void 0 ? void 0 : onError(e);\n        }\n        finally {\n            setIsLoading(false);\n        }\n    });\n    const handleClose = () => {\n        if (requiresPassword) {\n            const error = new Error(t('dyn_create_password.errors.user_closed_view'));\n            onError === null || onError === void 0 ? void 0 : onError(error, true);\n            dynamicEvents.emit('embeddedWalletCreatePasswordFailed', error);\n        }\n        setShowAuthFlow(false);\n    };\n    const handleLogout = (e) => {\n        e === null || e === void 0 ? void 0 : e.preventDefault();\n        const error = new Error(t('dyn_create_password.errors.user_closed_view'));\n        onError === null || onError === void 0 ? void 0 : onError(error, true);\n        onLogout();\n    };\n    return curStep === 'save-password' ? (jsx(SavePasswordStep, { password: password, onBack: () => setCurStep('create-password'), error: error, isLoading: isLoading, onSave: () => handleSavePassword(), onClose: canClose ? () => handleClose() : undefined, onLogout: !canClose ? handleLogout : undefined })) : (jsx(CreatePasswordStep, { password: password, setPassword: setPassword, currentPassword: currentPassword, setCurrentPassword: setCurrentPassword, onContinue: () => handleCreatePassword(), isChangingPassword: isChangingPassword, onClose: canClose ? () => handleClose() : undefined, onLogout: !canClose ? handleLogout : undefined }));\n};\n\nexport { CreatePasswordView };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1042, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}